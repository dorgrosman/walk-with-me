(function(e){function t(t){for(var i,o,a=t[0],u=t[1],c=t[2],l=0,d=[];l<a.length;l++)o=a[l],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],i=!0,a=1;a<r.length;a++){var u=r[a];0!==n[u]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var i={},n={app:0},s=[];function o(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=i,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(r,i,function(t){return e[t]}.bind(null,i));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var p=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"010d":function(e,t,r){e.exports=r.p+"img/london4.dbbf6689.jpeg"},"025f":function(e,t,r){e.exports=r.p+"img/la1.27787e51.jpeg"},"0272":function(e,t,r){e.exports=r.p+"img/user6.f0c2524e.jpeg"},"03b4":function(e,t,r){e.exports=r.p+"img/tongass2.27816249.jpeg"},"0523":function(e,t,r){e.exports=r.p+"img/amazon4.1d8ee16a.jpeg"},"0903":function(e,t,r){e.exports=r.p+"img/newyork3.e6eb1d76.jpeg"},"0e3e":function(e,t,r){e.exports=r.p+"img/brava4.c2e638c7.jpeg"},"0f1b":function(e,t,r){e.exports=r.p+"img/miami2.e17b2fab.jpeg"},1:function(e,t){},1166:function(e,t,r){e.exports=r.p+"img/amazon1.89a66c67.jpeg"},"130e":function(e,t,r){e.exports=r.p+"img/tongass3.4d2661d3.jpeg"},"16af":function(e,t,r){var i={"./ben.jpg":"342a","./dor.jpg":"221f","./gal.jpg":"6e45","./img.jpg":"382d","./profile-pic.png":"e944","./user1.jpeg":"dbbc","./user2.jpeg":"bd5f","./user3.jpeg":"e829","./user4.jpeg":"f741","./user5.jpeg":"b24d","./user6.jpeg":"0272","./user7.jpeg":"77e3"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=s,e.exports=n,n.id="16af"},"19d6":function(e,t,r){e.exports=r.p+"img/scotland4.dbc81125.jpeg"},"221f":function(e,t,r){e.exports=r.p+"img/dor.1c377cd5.jpg"},2456:function(e,t,r){e.exports=r.p+"img/tuscany4.761d09cb.jpeg"},2593:function(e,t,r){e.exports=r.p+"img/scotland3.8ea803cd.jpeg"},2999:function(e,t,r){e.exports=r.p+"img/4.35084f79.jpeg"},"2b1c":function(e,t,r){e.exports=r.p+"img/default4.234a492e.jpeg"},"2bc7":function(e,t,r){e.exports=r.p+"img/yosem4.b80059db.jpeg"},"2bfc":function(e,t,r){e.exports=r.p+"img/swiss5.e16a0629.jpeg"},"2c19":function(e,t,r){e.exports=r.p+"img/sagano3.f73d5437.jpeg"},"2e7d":function(e,t,r){e.exports=r.p+"img/amazon2.c8cf6f8d.jpeg"},"2f8d":function(e,t,r){e.exports=r.p+"img/telaviv2.a383d300.jpeg"},"302a":function(e,t,r){e.exports=r.p+"img/yosem2.65b04509.jpeg"},3038:function(e,t,r){e.exports=r.p+"img/amsterdam1.1c77e7e0.jpeg"},3153:function(e,t,r){e.exports=r.p+"img/london3.af63fa9b.jpeg"},"342a":function(e,t,r){e.exports=r.p+"img/ben.1fe95cb6.jpg"},"34b2":function(e,t,r){e.exports=r.p+"img/3.51efabb7.jpeg"},"35af":function(e,t,r){e.exports=r.p+"img/sherwood3.4d8ff883.jpeg"},"382d":function(e,t,r){e.exports=r.p+"img/img.b915b8b1.jpg"},"39e8":function(e,t,r){e.exports=r.p+"img/newyork4.1f1d4f67.jpeg"},"3c57":function(e,t,r){e.exports=r.p+"img/yosem3.4a777279.jpeg"},"3c61":function(e,t,r){},4221:function(e,t,r){e.exports=r.p+"img/telaviv1.83bbc8e3.jpeg"},"43f5":function(e,t,r){e.exports=r.p+"img/newyork2.8fbf427f.jpeg"},"448a":function(e,t,r){e.exports=r.p+"img/daintree2.a9a6d5ce.jpeg"},4955:function(e,t,r){e.exports=r.p+"img/brava1.9a8b8686.jpeg"},"4a10":function(e,t,r){e.exports=r.p+"img/tuscany3.35256c0f.jpeg"},"4bc1":function(e,t,r){e.exports=r.p+"img/machu2.c4ec6e5b.jpeg"},"4cfb":function(e,t,r){e.exports=r.p+"img/rocky1.81da62b7.jpeg"},"53df":function(e,t,r){e.exports=r.p+"img/paris3.c20674ef.jpeg"},"549f":function(e,t,r){e.exports=r.p+"img/sagano4.71679532.jpeg"},5651:function(e,t,r){e.exports=r.p+"img/amazon3.678aed89.jpeg"},5699:function(e,t,r){e.exports=r.p+"img/la4.980d9363.jpeg"},"56cb":function(e,t,r){e.exports=r.p+"img/paris2.23a01e71.jpeg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i,n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main-layout",attrs:{id:"app"}},[r("main-header",{class:{light:!e.homePage},attrs:{user:e.defaultUserForDisplay,isHome:e.homePage}}),e.homePage?r("hero",{on:{filterBy:e.updateFilter}}):e._e(),r("main",[r("router-view")],1),r("main-footer")],1)},o=[],a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"main-header full main-layout"},[i("div",{staticClass:"main-header-content flex space-between"},[i("div",{staticClass:"logo flex align-center"},[i("router-link",{attrs:{to:"/"}},[e.isHome?i("img",{staticClass:"logo",attrs:{src:r("f81e")}}):i("img",{staticClass:"logo",attrs:{src:r("9434")}})])],1),i("user-msg",{attrs:{user:this.user}}),i("div",{staticClass:"nav-bar flex space-between align-center"},[i("div",{staticClass:"nav-link"},[i("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),i("div",{staticClass:"nav-link"},[i("router-link",{attrs:{to:"/about"}},[e._v("About")])],1),i("div",{staticClass:"nav-link"},[i("a",{on:{click:function(t){return e.becomeGuide(e.user)}}},[e._v("Become a Guide")])]),i("div",{staticClass:"avatar flex align-center",on:{click:e.toggleMenu}},[i("i",{staticClass:"fas fa-bars"}),i("img",{staticClass:"avatar-img profile-img-s",attrs:{src:r("16af")("./"+this.user.profileImgUrl)}}),i("div",{staticClass:"user-menu flex column",class:{hide:!e.isMenuOpen}},[e.user.isGuide?i("router-link",{attrs:{to:"/back-office"}},[e._v(" "+e._s(e.userName(e.user))+"'s Office")]):e._e(),e.user.isGuide?e._e():i("router-link",{attrs:{to:"/user/:id"}},[e._v(" Profile ")]),i("a",{on:{click:e.logout}},[e._v("Logout")]),[e.loggedUser?i("div",{staticClass:"login-btns"},[e.loggedUser?e._e():i("a",{on:{click:function(t){return e.loginSignUp("login")}}},[e._v(" Login ")]),e.loggedUser?e._e():i("a",{on:{click:function(t){return e.loginSignUp("signUp")}}},[e._v(" Sign Up ")]),i("div",{staticClass:"s-nav-link"},[i("router-link",{attrs:{to:"/"}},[e._v("Home")])],1),i("div",{staticClass:"s-nav-link"},[i("router-link",{attrs:{to:"/about"}},[e._v("About")])],1),i("div",{staticClass:"s-nav-link"},[i("a",{on:{click:function(t){return e.becomeGuide(e.user)}}},[e._v("Become a Guide")])])]):e._e()]],2)])])],1)])},u=[],c=(r("b0c0"),r("ac1f"),r("1276"),r("96cf"),r("1da1")),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"user-msg"},[e.msg?r("div",[r("div",{staticClass:"alert",class:e.alertClass},[r("p",{on:{click:function(t){return e.closeMgs()}}},[e._v("X")]),r("p",{staticClass:"bold"},[e._v(e._s(e.msg))])])]):e._e(),e.msgBus?r("div",[r("div",{staticClass:"alert",class:e.alertClassBus},[r("h2",[e._v(e._s(e.msgBus.txt))]),r("p",[e._v(e._s(e.msgBus.subTxt))])])]):e._e()])},l=[],d=(r("99af"),"show-msg"),g=new n["default"],f=r("8055"),m=r.n(f),v="/",h={setup:b,terminate:y,on:w,off:k,emit:x};function b(){i=m()(v)}function y(){i=null}function w(e,t){i.on(e,t)}function k(e,t){i.off(e,t)}function x(e,t){console.log("emmiting",e),i.emit(e,t)}var j={props:{user:{type:Object}},data:function(){return{alive:!1,msg:null,msgBus:null}},computed:{alertClass:function(){if(this.msg)return"alert-".concat(this.msg.type)},alertClassBus:function(){if(this.msgBus)return"alert-".concat(this.msgBus.type)}},methods:{closeMgs:function(){this.msg=null,this.msgBus=null}},created:function(){var e=this;g.$on(d,(function(t){e.msgBus=t;var r=t.delay||3e3;e.alive=!0,setTimeout((function(){e.alive=!1}),r)})),h.on("sendBooking",(function(t){e.msg="".concat(t.user.name," booked the ").concat(t.trip.name," trip, pending your approval")})),h.on("approveBooking",(function(t){e.msg="".concat(t.guide.name," approved your booking")}))}},B=j,T=r("2877"),C=Object(T["a"])(B,p,l,!1,null,null,null),$=C.exports,R={props:{user:{type:Object},isHome:{type:Boolean}},data:function(){return{imgSrc:"",isMenuOpen:!1}},methods:{userName:function(e){var t=this.user.name,r=t.split(" ");return r[0]},becomeGuide:function(e){this.$store.dispatch({type:"login",userCred:{name:"Arnold Wellington",password:"123456"}})},loginGuide:function(){this.$store.dispatch({type:"login",userCred:{name:"Arnold Wellington",password:"123456"}})},loginSignUp:function(e){this.$store.commit({type:"setLoginSignUp",action:e}),"/login"!==this.$route.path&&this.$router.push("/login")},logout:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch({type:"logout"});case 2:e.$store.dispatch({type:"loadTrip"});case 3:case"end":return t.stop()}}),t)})))()},isHomePage:function(){var e="/"===this.$route.path;return e?"text-OW":"O"},toggleMenu:function(){this.isMenuOpen=!this.isMenuOpen}},computed:{isLoggingIn:function(){return"/login"===this.$route.path},loggedUser:function(){return this.$store.getters.loggedinUser}},components:{userMsg:$},created:function(){}},F=R,O=Object(T["a"])(F,a,u,!1,null,null,null),S=O.exports,U=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},I=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main-footer full main-layout flex align-center"},[r("small",[r("span",{staticClass:"footer-title"},[e._v("Walk With Me")]),e._v(" - International Tours & Guides")])])}],A={},D=A,E=Object(T["a"])(D,U,I,!1,null,null,null),P=E.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"hero full flex column align-center justify-center"},[r("h1",{staticClass:"hero-txt head"},[e._v("Adventure awaits, let's find it together")]),r("h2",{staticClass:"hero-txt small"},[e._v("Choose your destination, we'll provide the best guides")]),r("trip-filter",{attrs:{trips:e.tripsForDisplay},on:{filterBy:e.emitFilter}})],1)},N=[],L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"trip-filter"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.updateFilterPage(e.filterBy)}}},[r("div",{staticClass:"selector-filter flex space-between align-center"},[r("div",{staticClass:"txt-search input flex column"},[r("label",{attrs:{for:"txt-input"}},[e._v("Trip Destination")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.name,expression:"filterBy.name"}],staticClass:"txt-input",attrs:{type:"text",id:"txt-input",placeholder:"e.g. Sherwood Forest"},domProps:{value:e.filterBy.name},on:{input:[function(t){t.target.composing||e.$set(e.filterBy,"name",t.target.value)},e.emitFilter]}})]),r("span",{staticClass:"extra-search flex  space-between align-center"},[r("div",{staticClass:"input flex column"},[r("label",{attrs:{for:"type-input"}},[e._v("Trip Type")]),r("el-select",{attrs:{placeholder:"Select a Type",id:"type-input"},model:{value:e.filterBy.type,callback:function(t){e.$set(e.filterBy,"type",t)},expression:"filterBy.type"}},[r("el-option",{attrs:{id:"all-tag",value:"",label:"All"},on:{select:e.emitFilter}}),r("el-option",{attrs:{id:"mountain-tag",value:"mountain",label:"Mountain"},on:{select:e.emitFilter}},[e._v("Mountain ")]),r("el-option",{attrs:{id:"city-tag",value:"city",label:"City"},on:{select:e.emitFilter}},[e._v("City ")]),r("el-option",{attrs:{id:"forest-tag",value:"forest",label:"Forest"},on:{select:e.emitFilter}},[e._v("Forest ")])],1)],1),r("div",{staticClass:"input flex column"},[r("label",{attrs:{for:"dest-input"}},[e._v("Trip Region")]),r("el-select",{attrs:{placeholder:"Select a region",id:"dest-input"},model:{value:e.filterBy.region,callback:function(t){e.$set(e.filterBy,"region",t)},expression:"filterBy.region"}},[r("el-option",{attrs:{value:""}},[e._v("All")]),r("el-option",{attrs:{value:"USA"}},[e._v("USA")]),r("el-option",{attrs:{value:"Europe"}},[e._v("Europe")]),r("el-option",{attrs:{value:"Asia"}},[e._v("Asia")]),r("el-option",{attrs:{value:"Australia"}},[e._v("Australia")])],1)],1),e._m(0)])])])])},M=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{staticClass:"search-btn"},[r("i",{staticClass:"fas fa-search"})])}],q={props:{trips:{type:Array,required:!0}},name:"trip-filter",data:function(){return{filterBy:{name:"",type:"",region:""},selected:""}},methods:{emitFilter:function(e){var t=JSON.parse(JSON.stringify(this.filterBy));this.$emit("filterBy",t)},updateFilterPage:function(e){if("/trip"===this.$route.path){var t=JSON.parse(JSON.stringify(this.filterBy));this.$emit("filterBy",t),this.$store.commit({type:"setFilterBy",filterBy:this.filterBy})}else{var r=JSON.parse(JSON.stringify(this.filterBy));this.$emit("filterBy",r),this.$store.commit({type:"setFilterBy",filterBy:this.filterBy}),this.$router.push("/trip")}}},created:function(){var e=JSON.parse(JSON.stringify(this.$store.getters.filterBy));this.filterBy=e}},J=q,W=Object(T["a"])(J,L,M,!1,null,null,null),H=W.exports,z={components:{tripFilter:H},computed:{tripsForDisplay:function(){var e=this.$store.getters.tripsForDisplay;return e}},methods:{emitFilter:function(e){this.$emit("filterBy",e)}},created:function(){this.$store.dispatch({type:"loadTrips"})}},Y=z,K=Object(T["a"])(Y,G,N,!1,null,null,null),X=K.exports,Z={components:{mainHeader:S,mainFooter:P,hero:X},methods:{updateFilter:function(e){this.$store.commit({type:"setFilterBy",filterBy:e}),this.$store.dispatch({type:"loadTrips"})}},computed:{defaultUserForDisplay:function(){var e=this.$store.getters.loggedinUser;return e},homePage:function(){return"/"===this.$route.path}},created:function(){this.$store.dispatch({type:"login",userCred:{name:"Charlie McBride",password:"123456"}}),this.$store.dispatch({type:"loadTrips"}),h.setup()}},Q=Z,V=Object(T["a"])(Q,s,o,!1,null,null,null),ee=V.exports,te=r("9483");Object(te["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var re=r("8c4f"),ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"home-page"},[r("div",{staticClass:"trips-by flex space-between"},[r("h3",[e._v("Trips Across Europe")]),r("button",{staticClass:"go-to-all-btn action",on:{click:function(t){return e.updateFilterPage("region","Europe")}}},[e._v(" See All ")])]),r("trip-list",{attrs:{trips:e.europeTripsForDisplay},on:{emitFav:e.toggleFav}}),r("div",{staticClass:"trips-by flex space-between"},[r("h3",[e._v("Trips Across America")]),r("button",{staticClass:"go-to-all-btn action",on:{click:function(t){return e.updateFilterPage("region","USA")}}},[e._v(" See All ")])]),r("trip-list",{attrs:{trips:e.usaTripsForDisplay},on:{emitFav:e.toggleFav}}),r("div",{staticClass:"trips-by flex space-between"},[r("h3",[e._v("Top City Trips")]),r("button",{staticClass:"see-all-mountain-btn action",on:{click:function(t){return e.updateFilterPage("type","city")}}},[e._v(" See All ")])]),r("trip-list",{attrs:{trips:e.cityTripsForDisplay},on:{emitFav:e.toggleFav}}),r("div",{staticClass:"trips-by flex space-between"},[r("h3",[e._v("Top Mountain Trips")]),r("button",{staticClass:"go-to-all-btn action",on:{click:function(t){return e.updateFilterPage("type","mountain")}}},[e._v(" See All ")])]),r("trip-list",{attrs:{trips:e.mountainTripsForDisplay},on:{emitFav:e.toggleFav}}),r("div",{staticClass:"trips-by flex space-between"},[r("h3",[e._v("Top Forest Trips")]),r("button",{staticClass:"go-to-all-btn action",on:{click:function(t){return e.updateFilterPage("type","forest")}}},[e._v(" See All ")])]),r("trip-list",{attrs:{trips:e.forestTripsForDisplay},on:{emitFav:e.toggleFav}}),r("div",{staticClass:"flex justify-center align-center"},[r("button",{staticClass:"see-all-btn action",on:{click:function(t){return e.goToAllTrips()}}},[e._v(" See All Trips ")])]),r("h3",[e._v("Our Most Active Guides")]),r("guide-list",{attrs:{guides:e.guidesForDisplay}})],1)},ne=[],se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"trip-list card-grid"},e._l(e.sortedTrips,(function(t){return r("trip-preview",{key:t._id,attrs:{tripId:t._id},on:{emitFav:e.emitFav,click:function(r){return e.goToDetails(t._id)}}})})),1)},oe=[],ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return this.trip?i("section",{staticClass:"trip-preview preview-card",on:{click:function(t){return e.goToDetails(e.tripId)}}},[i("img",{staticClass:"trip-preview-img ratio-card",attrs:{src:r("79bd")("./"+this.trip.imgUrls[0])}}),i("div",{class:{hide:!e.isFav}},[i("p",{staticClass:"toggle-fav",on:{click:function(t){return t.stopPropagation(),e.emitFav(e.trip)}}},[i("i",{class:e.fav})])]),i("div",{staticClass:"details"},[i("h2",{staticClass:"trip-preview-title"},[e._v(e._s(this.trip.name))]),i("div",{staticClass:"trip-preview-trip-details"},[i("div",{staticClass:"flex"},[i("p",{staticClass:"date"},[e._v(e._s(e.getDateString))]),i("span",{staticClass:"seperator"},[e._v("∙")]),i("p",{staticClass:"duration"},[e._v(e._s(this.trip.duration))])]),i("div",{staticClass:"booking-info flex"},[i("p",[i("span",{staticClass:"price bold"},[e._v("$"+e._s(this.trip.price))]),e._v(" / person ")]),i("span",{staticClass:"seperator"},[e._v("∙")]),e.fullyBooked?i("div",[i("p",{staticClass:"fully-booked"},[e._v("Fully Booked")])]):i("div",[i("p",[i("span",{staticClass:"bold"},[e._v(e._s(this.trip.totalBooked))]),e._v("/10 joined ")])])]),i("hr"),i("div",{staticClass:"guide-info flex space-between"},[i("div",{staticClass:"guide-profile flex"},[i("img",{staticClass:"guide-img profile-img-s",attrs:{src:r("16af")("./"+this.trip.aboutGuide.imgUrl)}}),i("p",[e._v(e._s(this.trip.aboutGuide.name))])]),i("p",[i("i",{staticClass:"fas fa-star trip-star-rate"}),e._v(" "+e._s(e.rateGuide)+" ("+e._s(e.rateTotal)+") ")])])])])]):e._e()},ue=[],ce=(r("caad"),r("45fc"),r("2532"),r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("bc3a")),pe=r.n(ce),le="/api/",de=pe.a.create({withCredentials:!0});de.interceptors.request.use((function(e){return NProgress.start(),e})),de.interceptors.response.use((function(e){return NProgress.done(),e}));var ge={get:function(e,t){return fe(e,"GET",t)},post:function(e,t){return fe(e,"POST",t)},put:function(e,t){return fe(e,"PUT",t)},delete:function(e,t){return fe(e,"DELETE",t)}};function fe(e){return me.apply(this,arguments)}function me(){return me=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r,i,n,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:"get",i=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,de({url:"".concat(le).concat(t),method:r,data:i});case 5:return n=e.sent,e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e["catch"](2),401===e.t0.response.status&&Yr.push("/"),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),me.apply(this,arguments)}var ve={query:he,getTripById:be,save:we,getEmptyTrip:Be};function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new URLSearchParams;return e&&(t.append("name",e.name),t.append("type",e.type),t.append("region",e.region)),ge.get("trip?".concat(t))}function be(e){return ye.apply(this,arguments)}function ye(){return ye=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.get("trip/".concat(t)));case 1:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function we(e){var t=e._id?xe(e):ke(e);return t}function ke(e){return _e.apply(this,arguments)}function _e(){return _e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.post("trip",t));case 1:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function xe(e){return je.apply(this,arguments)}function je(){return je=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.put("trip/".concat(t._id),t));case 1:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function Be(){return{name:"",price:"",difficulty:"",totalBooked:0,type:"",imgUrls:["default1.jpeg"],createdAt:new Date}}var Te={login:Ae,logout:Ge,signup:Ee,getUserById:Ce,getUsers:Oe,saveReview:Re,updateUser:Ue};function Ce(e){return $e.apply(this,arguments)}function $e(){return $e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.get("user/".concat(t)));case 1:case"end":return e.stop()}}),e)}))),$e.apply(this,arguments)}function Re(e,t){return Fe.apply(this,arguments)}function Fe(){return Fe=Object(c["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.guideInfo.reviews.push(t),Ue(r);case 2:case"end":return e.stop()}}),e)}))),Fe.apply(this,arguments)}function Oe(){return Se.apply(this,arguments)}function Se(){return Se=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.get("user"));case 1:case"end":return e.stop()}}),e)}))),Se.apply(this,arguments)}function Ue(e){return Ie.apply(this,arguments)}function Ie(){return Ie=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",ge.put("user/".concat(t._id),t));case 1:case"end":return e.stop()}}),e)}))),Ie.apply(this,arguments)}function Ae(e){return De.apply(this,arguments)}function De(){return De=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ge.post("auth/login",t);case 2:return r=e.sent,e.abrupt("return",Le(r));case 4:case"end":return e.stop()}}),e)}))),De.apply(this,arguments)}function Ee(e){return Pe.apply(this,arguments)}function Pe(){return Pe=Object(c["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ge.post("auth/signup",t);case 2:return r=e.sent,e.abrupt("return",Le(r));case 4:case"end":return e.stop()}}),e)}))),Pe.apply(this,arguments)}function Ge(){return Ne.apply(this,arguments)}function Ne(){return Ne=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ge.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)}))),Ne.apply(this,arguments)}function Le(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var Me={props:{tripId:{type:String,required:!0}},data:function(){return{isFav:!1,trip:null,rateGuide:null,guide:null,rateTotal:null,fullyBooked:!1}},name:"trip-preview",methods:{emitFav:function(e){this.isFav=!this.isFav,this.$emit("emitFav",e)},goToDetails:function(e){this.$router.push("/trip/".concat(e))},checkIsFav:function(){var e=this,t=this.getCurrUser,r=t.favoriteTrips,i=r.some((function(t){return t._id.includes(e.trip._id)}));this.isFav=i},getGuideRate:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.aboutGuide._id,r.next=3,t.$store.dispatch({type:"getGuideRate",tripGuideId:i});case 3:n=r.sent,t.rateGuide=n;case 5:case"end":return r.stop()}}),r)})))()},getRateTotal:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.aboutGuide._id,r.next=3,t.$store.dispatch({type:"getRateTotal",tripGuideId:i});case 3:n=r.sent,t.rateTotal=n;case 5:case"end":return r.stop()}}),r)})))()},checkIfFullyBooked:function(e){10===e.totalBooked&&(this.fullyBooked=!0)}},computed:{starsAmount:function(){for(var e=this.trip.guide.rate,t=[],r=0;r<e;r++)t.push(r);return t},fav:function(){return this.isFav?"fas fa-heart":"far fa-heart"},getCurrUser:function(){return this.$store.getters.loggedinUser},getDateString:function(e){var t=new Date(this.trip.date);return t.toLocaleDateString("en-GB")}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ve.getTripById(e.tripId);case 2:return e.trip=t.sent,e.checkIsFav(),e.getGuideRate(e.trip),t.next=7,Te.getUserById(e.trip.aboutGuide._id);case 7:e.guide=t.sent,e.getRateTotal(e.trip),e.checkIfFullyBooked(e.trip);case 10:case"end":return t.stop()}}),t)})))()}},qe=Me,Je=Object(T["a"])(qe,ae,ue,!1,null,null,null),We=Je.exports,He={props:{trips:{type:Array,required:!0}},name:"trip-list",components:{tripPreview:We},computed:{sortedTrips:function(){return _.orderBy(this.trips,"date","asc")}},methods:{emitFav:function(e){this.$emit("emitFav",e)},goToDetails:function(e){router.push({name:"trip",params:{id:e}})}}},ze=He,Ye=Object(T["a"])(ze,se,oe,!1,null,null,null),Ke=Ye.exports,Xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"guide-list card-grid"},e._l(e.sortedGuides,(function(e){return r("guide-preview",{key:e._id,attrs:{guide:e}})})),1)},Ze=[],Qe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.guide?i("section",{staticClass:"guide-preview preview-card",on:{click:function(t){return e.goToGuide(e.guide._id)}}},[i("img",{staticClass:"profile-img-m",attrs:{src:r("16af")("./"+e.guide.profileImgUrl)}}),i("div",{staticClass:"guide-info"},[i("h2",[e._v(e._s(e.guide.name))]),i("p",[i("i",{staticClass:"fas fa-star trip-star-rate"}),e._v(" "+e._s(e.rateGuide)+" ("+e._s(e.guide.guideInfo.totalReviewCount)+") ")])])]):e._e()},Ve=[],et=(r("13d5"),r("b680"),{name:"guide-preview",props:{guide:{type:Object}},data:function(){return{totalRates:0,rateTotal:null}},computed:{rateGuide:function(){var e=this.guide.guideInfo.reviews.reduce((function(e,t){return e+t.rate}),0),t=e/this.guide.guideInfo.reviews.length;return t.toFixed(1)},rateAmount:function(){return this.guide.guideInfo.reviews.length}},methods:{goToGuide:function(e){this.$router.push("/guide/".concat(e))}}}),tt=et,rt=Object(T["a"])(tt,Qe,Ve,!1,null,null,null),it=rt.exports,nt={name:"guide-list",props:{guides:{type:Array,required:!0}},components:{guidePreview:it},methods:{},computed:{sortedGuides:function(){return _.orderBy(this.guides,"guideInfo.rate","desc")}}},st=nt,ot=Object(T["a"])(st,Xe,Ze,!1,null,null,null),at=ot.exports,ut=(r("e40d"),{name:"home-page",data:function(){return{fullPage:!0,user:null,filterBy:{name:"",type:"",location:"",region:""}}},methods:{updateFilterPage:function(e,t){this.filterBy[e]=t,this.$store.commit({type:"setFilterBy",filterBy:this.filterBy}),this.$router.push("/trip")},updateFilter:function(e){this.$store.commit({type:"setFilterBy",filterBy:e}),this.$store.dispatch({type:"loadTrips"})},toggleFav:function(e){this.$store.dispatch({type:"toggleFavs",trip:e})},goToAllTrips:function(){this.$router.push("/trip")}},computed:{mountainTripsForDisplay:function(){return this.$store.getters.mountainTripsForDisplay},forestTripsForDisplay:function(){return this.$store.getters.forestTripsForDisplay},seaTripsForDisplay:function(){return this.$store.getters.seaTripsForDisplay},cityTripsForDisplay:function(){return this.$store.getters.cityTripsForDisplay},difficultTripsForDisplay:function(){return this.$store.getters.difficultTripsForDisplay},europeTripsForDisplay:function(){return this.$store.getters.europeTripsForDisplay},usaTripsForDisplay:function(){return this.$store.getters.usaTripsForDisplay},guidesForDisplay:function(){return this.$store.getters.guidesForDisplay}},components:{tripList:Ke,guideList:at},created:function(){this.$store.commit({type:"setFilterBy",filterBy:{name:"",type:"",location:"",region:""}}),this.$store.dispatch({type:"loadTrips"}),this.$store.dispatch({type:"loadUsers"}),this.user=this.$store.getters.loggedinUser},mounted:function(){this.user=this.$store.getters.loggedinUser}}),ct=ut,pt=Object(T["a"])(ct,ie,ne,!1,null,null,null),lt=pt.exports,dt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},gt=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"about"},[r("h2",[e._v("Walk With Me")]),r("div",[r("h3",[e._v("Gal Ovadia")])]),r("div",[r("h3",[e._v("Dor Grosman")])]),r("div",[r("h3",[e._v("& Ben Graham")])])])}],ft={name:"about",data:function(){return{}},methods:{},computed:{},created:function(){}},mt=ft,vt=Object(T["a"])(mt,dt,gt,!1,null,null,null),ht=vt.exports,bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"all-trips-list"},[r("h1",[e._v("All Trips")]),r("trip-filter",{attrs:{trips:e.tripsForDisplay},on:{filterBy:e.updateFilter}}),r("trip-list",{staticClass:"all-trips-list-container wrap",attrs:{trips:e.tripsForDisplay},on:{emitFav:e.toggleFav}})],1)},yt=[],wt={getBookings:kt,createBooking:xt,getBookingById:Bt,updateBooking:Ct,remove:Rt};function kt(){return _t.apply(this,arguments)}function _t(){return _t=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ge.get("booking");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),_t.apply(this,arguments)}function xt(e){return jt.apply(this,arguments)}function jt(){return jt=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ge.post("booking",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),jt.apply(this,arguments)}function Bt(e){return Tt.apply(this,arguments)}function Tt(){return Tt=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ge.get("booking/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Tt.apply(this,arguments)}function Ct(e){return $t.apply(this,arguments)}function $t(){return $t=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ge.put("booking/".concat(t._id),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),$t.apply(this,arguments)}function Rt(e){return Ft.apply(this,arguments)}function Ft(){return Ft=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ge.delete("booking/".concat(t._id));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)}))),Ft.apply(this,arguments)}var Ot={name:"all-trips-list",data:function(){return{}},methods:{updateFilter:function(e){this.$store.commit({type:"setFilterBy",filterBy:e}),this.$store.dispatch({type:"loadTrips"})},toggleFav:function(e){this.$store.dispatch({type:"toggleFavs",trip:e})}},computed:{tripsForDisplay:function(){var e=this.$store.getters.tripsForDisplay;return e}},created:function(){this.$store.dispatch({type:"loadTrips"})},components:{tripList:Ke,tripFilter:H}},St=Ot,Ut=Object(T["a"])(St,bt,yt,!1,null,null,null),It=Ut.exports,At=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.trip?i("section",{staticClass:"trip-details"},[i("div",{staticClass:"img-container"},e._l(4,(function(t){return i("img",{key:t,staticClass:"trip-img",attrs:{src:r("79bd")("./"+e.trip.imgUrls[t-1])}})})),0),i("h1",[e._v(e._s(e.trip.name))]),i("div",{staticClass:"main-grid"},[i("div",{staticClass:"start"},[i("div",{staticClass:"info-trip"},[i("h3",[i("i",{staticClass:"fas fa-user-friends"}),e._v(" "+e._s(e.trip.totalBooked)+"/10 signed ")]),i("h3",[i("i",{staticClass:"fas fa-dumbbell"}),e._v(" Difficulty: "+e._s(e.trip.difficulty)+"/5 ")]),i("h3",[i("i",{staticClass:"fas fa-hourglass"}),e._v(" "+e._s(e.trip.duration))]),i("h3",[i("i",{staticClass:"fas fa-map-marked"}),e._v(" "+e._s(e.trip.region))])]),i("div",{staticClass:"about-trip"},e._l(this.trip.description,(function(t,r){return i("p",{key:r},[e._v(" "+e._s(t)+" ")])})),0),e.somebodyBooked?i("div",{staticClass:"booked-by"},[i("h3",[e._v("Already Booked:")]),i("ul",e._l(this.filterdBookings,(function(t){return i("li",{key:t._id,staticClass:"user-booked flex"},[i("img",{staticClass:"trip-details-guide-img profile-img-s",attrs:{src:r("16af")("./"+t.user.imgUrl)}}),i("p",[i("span",{staticClass:"bold"},[e._v(e._s(t.user.name))]),e._v(" - "+e._s(t.peopleToSign)+" Tickets Booked ")])])})),0)]):e._e(),i("div",{staticClass:"map"},[i("h3",[e._v("Where To")]),i("GmapMap",{staticStyle:{width:"100%",height:"400px","border-radius":"10px",overflow:"hidden"},attrs:{center:e.mapPos,zoom:12,"map-type-id":"terrain"}},[i("GmapMarker",{attrs:{position:e.mapPos,clickable:!0,draggable:!0},on:{click:function(t){e.center=e.mapPos}}})],1)],1)]),i("div",{staticClass:"end"},[i("h2",[e._v(e._s(e.bookedMsg))]),i("trip-book",{attrs:{trip:e.trip,user:e.loggedInUser},on:{bookTrip:e.bookTrip}}),i("div",{staticClass:"about-guide"},[i("h2",[e._v("Meet Your Guide")]),i("guide-preview",{attrs:{guide:this.guide}}),i("guide-review",{attrs:{guideId:e.trip.aboutGuide._id,user:e.loggedInUser}})],1)],1)])]):e._e()},Dt=[],Et=(r("4de4"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"guide-reviews"},[i("div",{staticClass:"reviews-header flex space-between align-center"},[i("h2",{staticClass:"title"},[e._v("Reviews")]),i("button",{directives:[{name:"show",rawName:"v-show",value:!e.isAdding,expression:"!isAdding"}],staticClass:"action",on:{click:e.showAddBtn}},[e._v("Add")])]),i("form",{directives:[{name:"show",rawName:"v-show",value:e.isAdding,expression:"isAdding"}],staticClass:"add flex column space-between"},[i("star-rating",{attrs:{increment:1,"star-size":25,"rounded-corners":!0,"active-color":"#FF8A44",padding:1,"active-on-click":!0,clearable:!0},model:{value:e.newReview.rate,callback:function(t){e.$set(e.newReview,"rate",t)},expression:"newReview.rate"}}),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newReview.txt,expression:"newReview.txt"}],attrs:{rows:"4",placeholder:"What do you think?"},domProps:{value:e.newReview.txt},on:{input:function(t){t.target.composing||e.$set(e.newReview,"txt",t.target.value)}}}),e._v(" "),i("div",{staticClass:"form-btns"},[i("button",{attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.cancelReview(t)}}},[e._v("Cancel")]),i("button",{staticClass:"action",on:{click:e.handleReview}},[e._v("Submit")])])],1),i("ul",{staticClass:"review-container"},e._l(e.reviews,(function(t){return i("li",{key:t._id,staticClass:"review-card"},[i("p",[e._v(e._s(t.txt))]),i("h4",[i("i",{staticClass:"fas fa-star"}),e._v(" Rate: "+e._s(t.rate))]),i("div",{staticClass:"review-by flex"},[i("img",{staticClass:"profile-img-s",attrs:{src:r("16af")("./"+t.reviewByUser.imgUrl),alt:"Image..."}}),i("h3",[e._v(e._s(t.reviewByUser.userName))])])])})),0),i("div")])}),Pt=[],Gt=r("5b3d"),Nt=r.n(Gt),Lt={makeId:Mt,getRandomIntInclusive:qt};function Mt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",r="0123456789",i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function qt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var Jt={props:{guideId:{type:String,required:!0},user:{type:Object,required:!0}},data:function(){return{isAdding:!1,newReview:{txt:"",rate:null,_id:Lt.makeId(6),reviewByUser:{userName:this.user.name,imgUrl:this.user.profileImgUrl,_id:this.user._id}}}},methods:{handleReview:function(){this.$store.dispatch({type:"saveReview",review:JSON.parse(JSON.stringify(this.newReview)),guideId:this.guideId,user:this.user})},showAddBtn:function(){this.isAdding=!this.isAdding},cancelReview:function(){this.newReview={txt:"",guideId:this.guideId},this.isAdding=!this.isAdding}},computed:{reviews:function(){return this.$store.getters.reviews}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch({type:"loadReviews",guideId:e.guideId});case 1:case"end":return t.stop()}}),t)})))()},components:{StarRating:Nt.a}},Wt=Jt,Ht=Object(T["a"])(Wt,Et,Pt,!1,null,null,null),zt=Ht.exports,Yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.trip?r("section",{staticClass:"trip-book flex column"},[r("h3",[e._v(e._s(e.booking.trip.date))]),r("h3",[e._v("Price: $"+e._s(e.trip.price))]),e.isBooked?r("div",[e._v("You Are Already Booked For This Trip")]):r("form",{staticClass:"flex column",on:{submit:function(t){return t.preventDefault(),e.emitBook(t)}}},[r("label",{attrs:{for:"specialReq"}},[e._v("Any special requests?")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.booking.specialReq,expression:"booking.specialReq"}],staticClass:"specialReq",attrs:{rows:"2",id:"specialReq",name:"specialReq",placeholder:"e.g.: I want a vegan option for lunch"},domProps:{value:e.booking.specialReq},on:{input:function(t){t.target.composing||e.$set(e.booking,"specialReq",t.target.value)}}}),e._v(" "),r("label",{attrs:{for:"peopleToSign"}},[e._v("How Many Travellers?")]),r("el-input-number",{staticClass:"trip-book-peopleToSign",attrs:{id:"peopleToSign",name:"peopleToSign",min:1,max:e.openSlotsForHikers},on:{change:e.totalPrice},model:{value:e.booking.peopleToSign,callback:function(t){e.$set(e.booking,"peopleToSign",e._n(t))},expression:"booking.peopleToSign"}}),r("p",[e._v("Total: $"+e._s(e.booking.sum))]),r("button",{staticClass:"action"},[e._v("Book Trip")])],1)]):e._e()},Kt=[],Xt={props:{trip:{type:Object,required:!0},user:{type:Object,required:!0}},data:function(){return{booking:{createdAt:(new Date).toLocaleDateString(),guide:{_id:this.trip.aboutGuide._id,name:this.trip.aboutGuide.name,imgUrl:this.trip.aboutGuide.imgUrl},trip:{_id:this.trip._id,name:this.trip.name,imgUrl:this.trip.imgUrls,totalBooked:this.trip.totalBooked,date:this.trip.date},status:"pending",peopleToSign:1,specialReq:"",sum:this.trip.price},isBooked:!1}},computed:{openSlotsForHikers:function(){var e=this.trip.totalBooked,t=10-e;return t}},methods:{emitBook:function(){this.$emit("bookTrip",this.booking),g.$emit(d,{txt:"Trip Booked!",subTxt:"Please wait for guide's final approval",type:"success"}),this.updateTotalBooked(),g.$emit(d,{txt:"Trip Booked!",subTxt:"Please wait for guide's final approval",type:"success"})},totalPrice:function(){var e=this.trip.price,t=this.booking.peopleToSign;return this.booking.sum=(e*t).toFixed(2),this.booking.sum},updateTotalBooked:function(){var e=this.booking.trip.totalBooked,t=this.booking.peopleToSign;e+=t,this.$store.dispatch({type:"updateTotalBooked",id:this.trip._id,totalBooked:JSON.parse(JSON.stringify(e))})},getBookingByUser:function(e){var t=this,r=this.$store.getters.bookings,i=r.filter((function(e){return e.user._id===t.user._id}));i.some((function(e){if(e.trip.name===t.trip.name)return t.isBooked=!0}))},getDateString:function(e){var t=new Date(this.trip.date);return t.toLocaleDateString("en-GB")}},created:function(){this.getBookingByUser(this.user),this.booking.trip.date=this.getDateString(this.trip)}},Zt=Xt,Qt=Object(T["a"])(Zt,Yt,Kt,!1,null,null,null),Vt=Qt.exports,er={name:"trip-details",data:function(){return{trip:null,mapPos:null,filterdBookings:null,isBooked:!1,guide:null,user:null,dateTrip:null,somebodyBooked:!0}},methods:{bookTrip:function(e){this.$store.dispatch({type:"addBooking",booking:e});var t=e.trip.totalBooked,r=e.peopleToSign;t+=r,this.trip.totalBooked=t,this.$store.dispatch({type:"saveTrip",trip:this.trip})},getBookingByUser:function(e){var t=this,r=this.$store.getters.bookings,i=r.filter((function(t){return t.user._id===e._id}));i.some((function(e){if(e.trip.name===t.trip.name)return t.isBooked=!0}))}},computed:{loggedInUser:function(){return this.$store.getters.loggedinUser},bookedMsg:function(){return!this.isBooked&&this.trip.totalBooked<10?"Come & Join The Trip ":!1===this.getBookingByUser?"Sorry, We're Fully Booked":"You've Already Booked This Trip"}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.id,t.next=3,ve.getTripById(r);case 3:return i=t.sent,e.trip=i,e.mapPos=e.trip.latlang,t.next=8,Te.getUserById(e.trip.aboutGuide._id);case 8:if(e.guide=t.sent,e.$store.dispatch({type:"loadBookings"}),n=e.$store.getters.bookings,s=n.filter((function(e){return e.trip._id===r})),e.filterdBookings=s,!(e.filterdBookings.length<1)){t.next=15;break}return t.abrupt("return",e.somebodyBooked=!1);case 15:e.getBookingByUser(e.loggedInUser);case 16:case"end":return t.stop()}}),t)})))()},components:{guideReview:zt,tripBook:Vt,guidePreview:it}},tr=er,rr=Object(T["a"])(tr,At,Dt,!1,null,null,null),ir=rr.exports,nr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user.isGuide?e._e():i("section",{staticClass:"user-details"},[i("img",{staticClass:"guide-preview-img profile-img-l ",attrs:{src:r("16af")("./"+e.user.profileImgUrl)}}),i("h2",{attrs:{"user-titles":""}},[e._v("Hi "+e._s(e.user.name)+", Welcome Back")]),i("br"),i("h3",{staticClass:"user-titles"},[e._v("Favorite Trips")]),e.user?i("trip-list",{attrs:{trips:e.user.favoriteTrips},on:{emitFav:e.toggleFav}}):e._e(),i("hr"),i("h3",{staticClass:"user-titles"},[e._v("Your Bookings")]),e.bookingToShow?i("div",{staticClass:"card-grid"},e._l(e.bookingToShow,(function(e){return i("div",{key:e._id,staticClass:"flex column"},[i("booking-list",{key:e._id,attrs:{booking:e}})],1)})),0):e._e(),i("hr")],1)},sr=[],or=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"booking-list"},[r("div",{staticClass:"flex column"},[e._l(e.tripsToShow,(function(t){return r("trip-preview",{key:t._id,attrs:{tripId:t._id},on:{emitFav:e.emitFav,click:function(r){return e.goToDetails(t._id)}}})})),r("button",{on:{click:function(t){return t.stopPropagation(),e.removeBooking(e.booking)}}},[e._v("Cancel")])],2)])},ar=[],ur={name:"booking-list",props:{booking:{type:Object}},data:function(){return{isApproved:!1}},components:{tripPreview:We},computed:{tripsToShow:function(){var e=this,t=this.$store.getters.tripsForDisplay,r=t.filter((function(t){return t._id===e.booking.trip._id}));return r}},methods:{removeBooking:function(e){this.$store.dispatch({type:"removeBooking",booking:this.booking})},toggleFav:function(e){this.$store.dispatch({type:"toggleFavs",trip:e})},emitFav:function(e){this.$emit("emitFav",e)}},created:function(){}},cr=ur,pr=Object(T["a"])(cr,or,ar,!1,null,null,null),lr=pr.exports,dr={name:"user-details",data:function(){return{user:null,filterdBookings:null}},methods:{toggleFav:function(e){this.$store.dispatch({type:"toggleFavs",trip:e})}},computed:{bookingToShow:function(){var e=this,t=this.$store.getters.bookings;return t.filter((function(t){return t.user._id===e.user._id}))}},created:function(){this.user=this.$store.getters.loggedinUser,this.$store.dispatch({type:"loadBookings"})},components:{tripList:Ke,bookingList:lr}},gr=dr,fr=Object(T["a"])(gr,nr,sr,!1,null,null,null),mr=fr.exports,vr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.bookingsToShow?r("section",{staticClass:"back-office"},[r("h1",[e._v("Trip Manager")]),r("h3",[e._v("Hello, "+e._s(e.guide.name))]),r("h3",[e._v("Your Bookings:")]),r("div",{staticClass:"table-container"},[r("table",{staticClass:"back-office-table"},[e._m(0),e._l(e.bookingsToShow,(function(e){return r("tbody",{key:e._id},[r("approve-booking",{key:e._id,attrs:{booking:e}})],1)}))],2)]),r("add-trip",{attrs:{guide:this.guide}})],1):e._e()},hr=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("Trip Name")]),r("th",[e._v("Booked By")]),r("th",[e._v("Signed")]),r("th",[e._v("Special Requests")]),r("th",[e._v("Status")]),r("th",[e._v("Date")]),r("th",[e._v("Approve Booking")])])])}],br=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.tripToEdit?r("section",{staticClass:"add-trip"},[r("button",{staticClass:"action",on:{click:e.showAddBtn}},[e._v("Create A New Trip")]),e.isAdding?r("form",{staticClass:"add-trip-form",on:{submit:function(t){return t.preventDefault(),e.addTrip(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.tripToEdit.name,expression:"tripToEdit.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Trip Name...",required:""},domProps:{value:e.tripToEdit.name},on:{input:function(t){t.target.composing||e.$set(e.tripToEdit,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.tripToEdit.price,expression:"tripToEdit.price",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"Trip Price...",required:""},domProps:{value:e.tripToEdit.price},on:{input:function(t){t.target.composing||e.$set(e.tripToEdit,"price",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.tripToEdit.description,expression:"tripToEdit.description",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"Trip Desc...",required:""},domProps:{value:e.tripToEdit.description},on:{input:function(t){t.target.composing||e.$set(e.tripToEdit,"description",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.tripToEdit.difficulty,expression:"tripToEdit.difficulty",modifiers:{number:!0}}],attrs:{type:"number",placeholder:"Trip Difficulty...",min:"1",max:"5",required:""},domProps:{value:e.tripToEdit.difficulty},on:{input:function(t){t.target.composing||e.$set(e.tripToEdit,"difficulty",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),r("select",{directives:[{name:"model",rawName:"v-model",value:e.tripToEdit.type,expression:"tripToEdit.type"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.tripToEdit,"type",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"",selected:"",disabled:"",hidden:""}},[e._v("Choose type here")]),r("option",{attrs:{value:"mountain"}},[e._v("mountain")]),r("option",{attrs:{value:"seaside"}},[e._v("seaside")]),r("option",{attrs:{value:"city"}},[e._v("city")]),r("option",{attrs:{value:"forest"}},[e._v("forest")])]),r("br"),r("button",[e._v("Save")])]):e._e()]):e._e()},yr=[],wr={props:{guide:{type:Object}},data:function(){return{tripToEdit:null,isAdding:!1}},computed:{},methods:{addTrip:function(){JSON.parse(JSON.stringify(this.tripToEdit));this.$store.dispatch({type:"saveTrip",trip:this.tripToEdit}),this.$router.push("/")},showAddBtn:function(){this.isAdding=!this.isAdding}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ve.getEmptyTrip();case 2:e.tripToEdit=t.sent,e.tripToEdit.aboutGuide={_id:e.guide._id,name:e.guide.name,imgUrl:e.guide.profileImgUrl,rate:e.guide.guideInfo.rate};case 4:case"end":return t.stop()}}),t)})))()}},kr=wr,_r=Object(T["a"])(kr,br,yr,!1,null,null,null),xr=_r.exports,jr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",{attrs:{scope:"row"}},[e._v(e._s(e.booking.trip.name))]),r("td",[e._v(e._s(e.booking.user.name))]),r("td",[e._v(e._s(e.booking.peopleToSign))]),r("td",[e._v(e._s(e.booking.specialReq))]),r("td",[e._v(e._s(e.booking.status))]),r("td",[e._v(" "+e._s(e.getDateString)+" ")]),r("td",[r("button",{staticClass:"action",class:{active:e.isApproved},on:{click:function(t){return e.approveBooking(e.booking)}}},[e._v(" Accept ")]),r("button",{staticClass:"approve-btn",on:{click:function(t){return t.stopPropagation(),e.removeBooking(e.booking)}}},[e._v(" Decline ")])])])},Br=[],Tr={name:"approve-booking",props:{booking:{type:Object}},data:function(){return{isApproved:!1}},computed:{getDateString:function(e){var t=new Date(this.booking.trip.date);return t.toLocaleDateString("en-GB")}},methods:{approveBooking:function(e){"pending"===e.status?(e.status="approved",this.isApproved=!0):(e.status="pending",this.isApproved=!1),this.$store.dispatch({type:"updateBooking",booking:e})},removeBooking:function(e){this.$store.dispatch({type:"removeBooking",booking:e}),this.$store.dispatch({type:"loadBookings"})},approveBtn:function(){this.isApproved=!this.isApproved}}},Cr=Tr,$r=Object(T["a"])(Cr,jr,Br,!1,null,null,null),Rr=$r.exports,Fr={name:"back-office",data:function(){return{filterdBookings:null}},methods:{approveBooking:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:"pending"===e.status?e.status="approved":e.status="pending",t.$store.dispatch({type:"updateBooking",booking:e});case 2:case"end":return r.stop()}}),r)})))()},removeBooking:function(e){this.$store.dispatch({type:"removeBooking",booking:e}),this.$store.dispatch({type:"loadBookings"})}},computed:{bookingsToShow:function(){var e=this,t=this.$store.getters.bookings;return t.filter((function(t){return t.guide._id===e.guide._id}))},guide:function(){return this.$store.getters.loggedinGuide}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch({type:"loadBookings"});case 1:case"end":return t.stop()}}),t)})))()},components:{addTrip:xr,approveBooking:Rr}},Or=Fr,Sr=Object(T["a"])(Or,vr,hr,!1,null,null,null),Ur=Sr.exports,Ir=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.guide?i("section",{staticClass:"guide-info"},[i("h1",[e._v(e._s(e.guide.name))]),i("img",{staticClass:"guide-preview-img profile-img-l",attrs:{src:r("16af")("./"+e.guide.profileImgUrl)}}),i("h3",[e._v("Rating: "+e._s(e.guide.guideInfo.rate))]),i("p",[e._v(e._s(e.rateGuide)+" ("+e._s(e.rateAmount)+")")]),i("p",[e._v(e._s(e.guide.guideInfo.description))]),i("button",{staticClass:"back-btn"},[i("router-link",{attrs:{to:"/"}},[e._v("Back")])],1),i("h3",[e._v("All Trips:")]),e.guide?i("trip-list",{attrs:{trips:e.getTripsByGuide},on:{emitFav:e.toggleFav}}):e._e(),i("h3",[e._v("All Reviews:")]),i("guide-review",{attrs:{guideId:e.guide._id,user:e.user}})],1):e._e()},Ar=[],Dr={name:"guide-details",data:function(){return{guide:null}},computed:{getTripsByGuide:function(){return this.$store.getters.getTripsByGuide},rateGuide:function(){var e=this.guide.guideInfo.reviews.reduce((function(e,t){return e+t.rate}),0),t=e/this.guide.guideInfo.reviews.length;return t.toFixed(1)},rateAmount:function(){return this.guide.guideInfo.reviews.length},user:function(){return this.$store.getters.loggedinUser}},methods:{setGuideId:function(){this.$store.commit({type:"setGuideId",guideId:this.guide._id})},toggleFav:function(e){this.$store.dispatch({type:"toggleFavs",trip:e})},updateUserRate:function(e){this.$store.dispatch({type:"updateUserRate",avg:e})}},created:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.id,t.next=3,Te.getUserById(r);case 3:i=t.sent,e.guide=i,e.setGuideId(),e.$store.dispatch({type:"loadTrips"});case 7:case"end":return t.stop()}}),t)})))()},components:{tripList:Ke,guideReview:zt}},Er=Dr,Pr=Object(T["a"])(Er,Ir,Ar,!1,null,null,null),Gr=Pr.exports,Nr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"login-page flex f-col f-center"},[r("form",{staticClass:"from-box",on:{submit:function(t){return t.preventDefault(),e.sendUserDetails(t)}}},[r("h1",{staticClass:"title"},[e._v(e._s(e.titleToShow))]),r("div",{staticClass:"input-box"},[r("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],attrs:{type:"text",placeholder:"Enter Your Name"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})]),r("div",{staticClass:"input-box"},[r("i",{staticClass:"fa fa-key",attrs:{"aria-hidden":"true"}}),"checkbox"===e.showPass?r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{placeholder:"Enter Password",type:"checkbox"},domProps:{checked:Array.isArray(e.user.password)?e._i(e.user.password,null)>-1:e.user.password},on:{change:function(t){var r=e.user.password,i=t.target,n=!!i.checked;if(Array.isArray(r)){var s=null,o=e._i(r,s);i.checked?o<0&&e.$set(e.user,"password",r.concat([s])):o>-1&&e.$set(e.user,"password",r.slice(0,o).concat(r.slice(o+1)))}else e.$set(e.user,"password",n)}}}):"radio"===e.showPass?r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{placeholder:"Enter Password",type:"radio"},domProps:{checked:e._q(e.user.password,null)},on:{change:function(t){return e.$set(e.user,"password",null)}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{placeholder:"Enter Password",type:e.showPass},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),r("i",{class:e.showPassClass,on:{click:function(t){e.isShowPass=!e.isShowPass}}})]),r("button",{staticClass:"login-btn"},[e._v(e._s(e.btnTextToShow))]),r("button",{staticClass:"login-btn",on:{click:e.homePage}},[e._v("Back to the home page")])])])},Lr=[],Mr={data:function(){return{user:{name:"",password:""},isShowPass:!1}},methods:{sendUserDetails:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if((e.isLogin||e.user.name)&&e.user.password&&e.user.name){t.next=3;break}return console.log("Fill all the details!!"),t.abrupt("return");case 3:return t.next=5,e.$store.dispatch({type:e.isLogin?"login":"signup",userCred:e.user});case 5:r=t.sent,r.err&&console.log("err",r.err),e.isLogin?g.$emit(d,{txt:"Welcome ".concat(e.user.name),subTxt:"Login Successful",type:"success"}):g.$emit(d,{txt:"Welcome ".concat(e.user.name),subTxt:"Signup Successful",type:"success"}),e.$router.push("/");case 9:case"end":return t.stop()}}),t)})))()},homePage:function(){this.$router.push("/")}},computed:{titleToShow:function(){return this.isLogin?"Login":"Sign Up"},btnTextToShow:function(){return this.isLogin?"Login":"Sign Up"},showPass:function(){return this.isShowPass?"text":"password"},showPassClass:function(){return{"fas fa-eye":!this.isShowPass,"fas fa-eye-slash":this.isShowPass}},isLogin:function(){return this.$store.getters.isLogin}},watch:{}},qr=Mr,Jr=Object(T["a"])(qr,Nr,Lr,!1,null,null,null),Wr=Jr.exports;n["default"].use(re["a"]);var Hr=[{path:"/",name:"home",component:lt},{path:"/user/:id",name:"user-details",component:mr},{path:"/trip",name:"trip-list",component:It},{path:"/trip/:id",name:"trip-details",component:ir},{path:"/back-office",name:"back-office",component:Ur},{path:"/guide/:id",name:"guide-details",component:Gr},{path:"/login",component:Wr},{path:"/about",name:"about",component:ht}],zr=new re["a"]({mode:"history",base:"/",routes:Hr});zr.beforeResolve((function(e,t,r){e.name&&NProgress.start(),r()})),zr.afterEach((function(e,t){NProgress.done()}));var Yr=zr,Kr=r("2f62"),Xr=(r("c740"),r("a434"),{_id:"5fc531cfba5fd6d904aad389",name:"Arnold Wellington",favoriteTrips:[],profileImgUrl:"",isGuide:!0,guideInfo:{rate:"",description:"professional guide, with great vibes",lang:["English","Hebrew","Welsh"],reviews:[{id:"r101",txt:"A great guide to hike with..",rate:5,reviewByUser:{_id:"5fc531cfba5fd6d904aad38a",userName:"Charlie McBride",imgUrl:"img.jpg"}}]}}),Zr=null;sessionStorage.user&&(Zr=JSON.parse(sessionStorage.user));var Qr={strict:!0,state:{users:[],loggedinUser:Zr,loggedinGuide:Xr,favoriteTrips:[],reviews:[],guideRate:null,isLogin:!1},getters:{loggedinUser:function(e){return e.loggedinUser},loggedinGuide:function(e){return e.loggedinGuide},isGuide:function(e){return e.isGuide},guidesForDisplay:function(e){return e.users.filter((function(e){return!0===e.isGuide}))},reviews:function(e){return e.reviews},isLogin:function(e){return e.isLogin}},mutations:{setUser:function(e,t){var r=t.user;e.loggedinUser=r},setUsers:function(e,t){var r=t.users;e.users=r},setReviews:function(e,t){var r=t.reviews;e.reviews=r},addReview:function(e,t){var r=t.review;e.reviews.push(r)},setGuideRate:function(e,t){var r=t.rate;e.guideRate=r},setLoginSignUp:function(e,t){var r=t.action;e.isLogin="login"===r}},actions:{login:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.userCred,r.next=3,Te.login(i);case 3:return n=r.sent,e.commit({type:"setUser",user:n}),r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})))()},signup:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.userCred,r.next=3,Te.signup(i);case 3:return n=r.sent,e.commit({type:"setUser",user:n}),r.abrupt("return",n);case 6:case"end":return r.stop()}}),r)})))()},logout:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Te.logout();case 2:e.commit({type:"setUsers",users:[]}),e.commit({type:"setUser",user:null});case 4:case"end":return t.stop()}}),t)})))()},loadUsers:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Te.getUsers();case 2:r=t.sent,e.commit({type:"setUsers",users:r});case 4:case"end":return t.stop()}}),t)})))()},updateUser:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.user,r.next=3,Te.updateUser(i);case 3:i=r.sent,e.commit({type:"setUser",user:i});case 5:case"end":return r.stop()}}),r)})))()},loadReviews:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.guideId,r.next=3,Te.getUserById(i);case 3:n=r.sent,s=n.guideInfo.reviews,e.commit({type:"setReviews",reviews:s});case 6:case"end":return r.stop()}}),r)})))()},saveReview:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n,s,o,a,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.commit,n=t.review,s=t.guideId,t.user,r.next=4,Te.getUserById(s);case 4:return o=r.sent,a=o.guideInfo.reviews.reduce((function(e,t){return e+t.rate}),0),u=a/o.guideInfo.reviews.length,o.guideInfo.rate=u.toFixed(1),r.next=10,Te.saveReview(n,o);case 10:r.sent,i({type:"addReview",review:n});case 12:case"end":return r.stop()}}),r)})))()},toggleFavs:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n,s,o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.trip,n=JSON.parse(JSON.stringify(e.state.loggedinUser)),s=n.favoriteTrips,o=s.some((function(e){return e._id.includes(i._id)})),o?(a=s.findIndex((function(e){return e._id===i._id})),a>=0&&s.splice(a,1)):s.unshift({date:i.date,name:i.name,_id:i._id}),r.next=7,e.dispatch({type:"updateUser",user:e.state.loggedinUser});case 7:e.commit({type:"setUser",user:n});case 8:case"end":return r.stop()}}),r)})))()},getGuideRate:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.tripGuideId,e.next=3,Te.getUserById(r);case 3:return i=e.sent,n=i.guideInfo.rate,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))()},getRateTotal:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.tripGuideId,e.next=3,Te.getUserById(r);case 3:return i=e.sent,n=i.guideInfo.totalReviewCount,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))()},loadDefaultUser:function(e){e.getters;var t=e.commit;t({type:"setIsLoading",isLoading:!0});var r=this.$store.getters.loggedinUser;t({type:"setUser",userLogged:r}),t({type:"setIsLoading",isLoading:!1})}}},Vr=(r("4160"),r("fb6a"),r("159b"),{strict:!0,state:{isLoading:!1,trips:[],filterBy:{name:"",type:"",region:""},isShowAll:!1,showBy:null,currTrip:{}},getters:{tripsForDisplay:function(e){return e.trips},mountainTripsForDisplay:function(e){var t=e.trips.filter((function(e){return"mountain"===e.type}));return t.slice(0,4)},forestTripsForDisplay:function(e){var t=e.trips.filter((function(e){return"forest"===e.type}));return t.slice(0,4)},cityTripsForDisplay:function(e){var t=e.trips.filter((function(e){return"city"===e.type})),r=t.sort((function(){return.5-Math.random()})).slice(0,4);return r},difficultTripsForDisplay:function(e){var t=e.trips.filter((function(e){return e.difficulty>=4}));return t.slice(0,4)},europeTripsForDisplay:function(e){var t=e.trips.filter((function(e){return"Europe"===e.region})),r=t.sort((function(){return.5-Math.random()})).slice(0,4);return r},usaTripsForDisplay:function(e){if("USA"===e.showBy&&!0===e.isShowAll)return e.trips.filter((function(e){return"USA"===e.region}));var t=e.trips.filter((function(e){return"USA"===e.region}));return t.slice(0,4)},getTripsByGuide:function(e){return e.trips.filter((function(t){return t.aboutGuide._id===e.guideId}))},filterBy:function(e){return e.filterBy}},mutations:{setFilterBy:function(e,t){var r=t.filterBy;e.filterBy=r},setTrips:function(e,t){var r=t.trips;e.trips=r},setIsLoading:function(e,t){e.isLoading=t.isLoading},addTrip:function(e,t){var r=t.trip;e.trips.push(r)},setGuideId:function(e,t){var r=t.guideId;e.guideId=r},updateTrip:function(e,t){var r=t.trip,i=e.trips.findIndex((function(e){return e._id===r._id}));i>=0&&e.trips.splice(i,1,r)},showByParams:function(e,t){var r=t.showBy;e.isShowAll=!e.isShowAll,e.showBy=r}},actions:{loadTrips:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.getters,i=e.commit,t.next=3,ve.query(r.filterBy);case 3:n=t.sent,s={},n.forEach((function(e){s[e.type]||(s[e.type]=e.type)})),i({type:"setTrips",trips:n});case 7:case"end":return t.stop()}}),t)})))()},saveTrip:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.commit,n=t.trip,s=n._id?"addTrip":"updateTrip",r.next=5,ve.save(n);case 5:o=r.sent,i({type:s,trip:o});case 7:case"end":return r.stop()}}),r)})))()},updateTotalBooked:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n,s,o,a,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=e.commit,n=t.id,s=t.totalBooked,r.next=4,ve.getTripById(n);case 4:return o=r.sent,a=JSON.parse(JSON.stringify(o)),a.totalBooked=s,r.next=9,ve.save(a);case 9:u=r.sent,i({type:"updateTrip",trip:u});case 11:case"end":return r.stop()}}),r)})))()}}}),ei={strict:!0,state:{bookings:[]},getters:{bookings:function(e){return e.bookings}},mutations:{setBookings:function(e,t){var r=t.bookings;e.bookings=r},addBooking:function(e,t){var r=t.booking;e.bookings.push(r)},setBooking:function(e,t){var r=t.booking,i=e.bookings.findIndex((function(e){return e._id===r._id}));i>=0&&e.bookings.splice(i,1,r)},removeBooking:function(e,t){var r=t.booking,i=e.bookings.findIndex((function(e){return e._id===r._id}));i>=0&&e.bookings.splice(i,1)}},actions:{loadBookings:function(e){return Object(c["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,wt.getBookings();case 2:r=t.sent,e.commit({type:"setBookings",bookings:r});case 4:case"end":return t.stop()}}),t)})))()},addBooking:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.booking,i.user={_id:e.rootGetters.loggedinUser._id,name:e.rootGetters.loggedinUser.name,imgUrl:e.rootGetters.loggedinUser.profileImgUrl},r.next=4,wt.createBooking(i);case 4:n=r.sent,h.emit("addBooking",n),e.commit({type:"addBooking",booking:n});case 7:case"end":return r.stop()}}),r)})))()},updateBooking:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.booking,r.next=3,wt.updateBooking(i);case 3:n=r.sent,h.emit("updateBooking",n),e.commit({type:"setBooking",booking:n});case 6:case"end":return r.stop()}}),r)})))()},removeBooking:function(e,t){return Object(c["a"])(regeneratorRuntime.mark((function r(){var i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return i=t.booking,r.next=3,wt.remove(i);case 3:n=r.sent,e.commit({type:"removeBooking",booking:n});case 5:case"end":return r.stop()}}),r)})))()}}};n["default"].use(Kr["a"]);var ti=new Kr["a"].Store({state:{isLoading:!1},getters:{isLoading:function(e){return e.isLoading}},mutations:{setIsLoading:function(e,t){e.isLoading=t.isLoading}},actions:{},modules:{tripStore:Vr,userStore:Qr,bookingStore:ei}}),ri=r("755e"),ii=r("5c96"),ni=r.n(ii);r("0fae"),r("3c61"),r("2ef0");n["default"].use(ri,{load:{key:"AIzaSyD_E_dcrekWZNXaKc2mSKc3dnN31bk_L2Y",libraries:"places"}}),n["default"].use(ni.a),n["default"].config.productionTip=!1,new n["default"]({router:Yr,store:ti,render:function(e){return e(ee)}}).$mount("#app")},"57f2":function(e,t,r){e.exports=r.p+"img/london2.710211e5.jpeg"},5849:function(e,t,r){e.exports=r.p+"img/machu4.e820b61a.jpeg"},"5a0f":function(e,t,r){e.exports=r.p+"img/brava2.d322158f.jpeg"},"61a4":function(e,t,r){e.exports=r.p+"img/telaviv4.95bbce6a.jpeg"},6434:function(e,t,r){e.exports=r.p+"img/scotland2.f1eb170b.jpeg"},"648a":function(e,t,r){e.exports=r.p+"img/everest2.5abc1996.jpeg"},6683:function(e,t,r){e.exports=r.p+"img/daintree4.14452525.jpeg"},"6a88":function(e,t,r){e.exports=r.p+"img/machu3.2838859a.jpeg"},"6e45":function(e,t,r){e.exports=r.p+"img/gal.c41713e5.jpg"},"6f41":function(e,t,r){e.exports=r.p+"img/everest4.be3ebc4d.jpeg"},"704d":function(e,t,r){e.exports=r.p+"img/everest1.ec7eed49.jpeg"},"705b":function(e,t,r){e.exports=r.p+"img/sherwood2.36e4f761.jpeg"},"752b":function(e,t,r){e.exports=r.p+"img/telaviv3.59a2ee02.jpeg"},7735:function(e,t,r){e.exports=r.p+"img/newyork1.21a5687b.jpeg"},"77e3":function(e,t,r){e.exports=r.p+"img/user7.4cf8c508.jpeg"},"78aa":function(e,t,r){e.exports=r.p+"img/swiss1.f64135f2.jpeg"},"79bd":function(e,t,r){var i={"./1.jpeg":"fb92","./3.jpeg":"34b2","./4.jpeg":"2999","./5.jpeg":"b7d2","./6.jpeg":"d1cc","./Roadtrip.jpg":"bbaf","./amazon1.jpeg":"1166","./amazon2.jpeg":"2e7d","./amazon3.jpeg":"5651","./amazon4.jpeg":"0523","./amsterdam1.jpeg":"3038","./amsterdam2.jpeg":"9193","./amsterdam3.jpeg":"7b03","./amsterdam4.jpeg":"8af0","./brava1.jpeg":"4955","./brava2.jpeg":"5a0f","./brava3.jpeg":"b4b3","./brava4.jpeg":"0e3e","./champagne1.jpeg":"7f39","./daintree1.jpeg":"8ea6","./daintree2.jpeg":"448a","./daintree3.jpeg":"d55f","./daintree4.jpeg":"6683","./default1.jpeg":"b3aa","./default2.jpeg":"7edc","./default3.jpeg":"ac79","./default4.jpeg":"2b1c","./everest1.jpeg":"704d","./everest2.jpeg":"648a","./everest3.jpeg":"e1b6","./everest4.jpeg":"6f41","./la1.jpeg":"025f","./la2.jpeg":"f048","./la3.jpeg":"9484","./la4.jpeg":"5699","./london1.jpeg":"e826","./london2.jpeg":"57f2","./london3.jpeg":"3153","./london4.jpeg":"010d","./machu1.jpeg":"881e","./machu2.jpeg":"4bc1","./machu3.jpeg":"6a88","./machu4.jpeg":"5849","./miami1.jpeg":"c321","./miami2.jpeg":"0f1b","./miami3.jpeg":"b08e","./miami4.jpeg":"e9cb","./newyork1.jpeg":"7735","./newyork2.jpeg":"43f5","./newyork3.jpeg":"0903","./newyork4.jpeg":"39e8","./palolem1.jpeg":"f003","./paris1.jpeg":"d787","./paris2.jpeg":"56cb","./paris3.jpeg":"53df","./paris4.jpeg":"a4b2","./paris6.jpeg":"a3a2","./rocky1.jpeg":"4cfb","./rocky2.jpeg":"ed80","./rocky3.jpeg":"d184","./rocky4.jpeg":"7bb5","./sagano1.jpeg":"ff1a","./sagano2.jpeg":"8fd0","./sagano3.jpeg":"2c19","./sagano4.jpeg":"549f","./scotland1.jpeg":"b0ea","./scotland2.jpeg":"6434","./scotland3.jpeg":"2593","./scotland4.jpeg":"19d6","./sherwood1.jpeg":"7e79","./sherwood2.jpeg":"705b","./sherwood3.jpeg":"35af","./sherwood4.jpeg":"a40c","./swiss1.jpeg":"78aa","./swiss2.jpeg":"ae95","./swiss3.jpeg":"9aad","./swiss4.jpeg":"8e4b","./swiss5.jpeg":"2bfc","./telaviv1.jpeg":"4221","./telaviv2.jpeg":"2f8d","./telaviv3.jpeg":"752b","./telaviv4.jpeg":"61a4","./tongass1.jpeg":"a4d5","./tongass2.jpeg":"03b4","./tongass3.jpeg":"130e","./tongass4.jpeg":"d1f3","./tuscany1.jpeg":"f6a4","./tuscany2.jpeg":"ddb2","./tuscany3.jpeg":"4a10","./tuscany4.jpeg":"2456","./yosem1.jpeg":"a842","./yosem2.jpeg":"302a","./yosem3.jpeg":"3c57","./yosem4.jpeg":"2bc7"};function n(e){var t=s(e);return r(t)}function s(e){if(!r.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=s,e.exports=n,n.id="79bd"},"7b03":function(e,t,r){e.exports=r.p+"img/amsterdam3.00ebf653.jpeg"},"7bb5":function(e,t,r){e.exports=r.p+"img/rocky4.d310ce66.jpeg"},"7e79":function(e,t,r){e.exports=r.p+"img/sherwood1.6bfd3592.jpeg"},"7edc":function(e,t,r){e.exports=r.p+"img/default2.f70fb34e.jpeg"},"7f39":function(e,t,r){e.exports=r.p+"img/champagne1.86c29e32.jpeg"},"881e":function(e,t,r){e.exports=r.p+"img/machu1.f0eb1e54.jpeg"},"8af0":function(e,t,r){e.exports=r.p+"img/amsterdam4.2c5a0946.jpeg"},"8e4b":function(e,t,r){e.exports=r.p+"img/swiss4.917bf45d.jpeg"},"8ea6":function(e,t,r){e.exports=r.p+"img/daintree1.fa0cac16.jpeg"},"8fd0":function(e,t,r){e.exports=r.p+"img/sagano2.9015890f.jpeg"},9193:function(e,t,r){e.exports=r.p+"img/amsterdam2.8c90d010.jpeg"},9434:function(e,t,r){e.exports=r.p+"img/logo-O.fe75f513.svg"},9484:function(e,t,r){e.exports=r.p+"img/la3.b10b1acb.jpeg"},"9aad":function(e,t,r){e.exports=r.p+"img/swiss3.b779b81d.jpeg"},a3a2:function(e,t,r){e.exports=r.p+"img/paris6.fb7940b4.jpeg"},a40c:function(e,t,r){e.exports=r.p+"img/sherwood4.645a4faf.jpeg"},a4b2:function(e,t,r){e.exports=r.p+"img/paris4.2a2dd68b.jpeg"},a4d5:function(e,t,r){e.exports=r.p+"img/tongass1.1ce2a273.jpeg"},a842:function(e,t,r){e.exports=r.p+"img/yosem1.dd7f9eb6.jpeg"},ac79:function(e,t,r){e.exports=r.p+"img/default3.45613730.jpeg"},ae95:function(e,t,r){e.exports=r.p+"img/swiss2.9436b778.jpeg"},b08e:function(e,t,r){e.exports=r.p+"img/miami3.79b28ce1.jpeg"},b0ea:function(e,t,r){e.exports=r.p+"img/scotland1.4b1af5d5.jpeg"},b24d:function(e,t,r){e.exports=r.p+"img/user5.eb777e6d.jpeg"},b3aa:function(e,t,r){e.exports=r.p+"img/default1.9e10a18c.jpeg"},b4b3:function(e,t,r){e.exports=r.p+"img/brava3.dc168c3e.jpeg"},b7d2:function(e,t,r){e.exports=r.p+"img/5.61ea6799.jpeg"},bbaf:function(e,t,r){e.exports=r.p+"img/Roadtrip.780afeb4.jpg"},bd5f:function(e,t,r){e.exports=r.p+"img/user2.a7834954.jpeg"},c321:function(e,t,r){e.exports=r.p+"img/miami1.6ba94dfc.jpeg"},d184:function(e,t,r){e.exports=r.p+"img/rocky3.98e6ada2.jpeg"},d1cc:function(e,t,r){e.exports=r.p+"img/6.17a10580.jpeg"},d1f3:function(e,t,r){e.exports=r.p+"img/tongass4.eb4198d7.jpeg"},d55f:function(e,t,r){e.exports=r.p+"img/daintree3.35f6a264.jpeg"},d787:function(e,t,r){e.exports=r.p+"img/paris1.94b54b04.jpeg"},dbbc:function(e,t,r){e.exports=r.p+"img/user1.c733e17b.jpeg"},ddb2:function(e,t,r){e.exports=r.p+"img/tuscany2.81ff8fb8.jpeg"},e1b6:function(e,t,r){e.exports=r.p+"img/everest3.7b4453cc.jpeg"},e826:function(e,t,r){e.exports=r.p+"img/london1.a65fb2c5.jpeg"},e829:function(e,t,r){e.exports=r.p+"img/user3.a777f022.jpeg"},e944:function(e,t,r){e.exports=r.p+"img/profile-pic.9acfe78b.png"},e9cb:function(e,t,r){e.exports=r.p+"img/miami4.123d9104.jpeg"},ed80:function(e,t,r){e.exports=r.p+"img/rocky2.0ff678af.jpeg"},f003:function(e,t,r){e.exports=r.p+"img/palolem1.2a8a40e4.jpeg"},f048:function(e,t,r){e.exports=r.p+"img/la2.d9652ab0.jpeg"},f6a4:function(e,t,r){e.exports=r.p+"img/tuscany1.645492ea.jpeg"},f741:function(e,t,r){e.exports=r.p+"img/user4.41c442c0.jpeg"},f81e:function(e,t,r){e.exports=r.p+"img/logo-text-OW.25bd59fb.svg"},fb92:function(e,t,r){e.exports=r.p+"img/1.6f613d6f.jpeg"},ff1a:function(e,t,r){e.exports=r.p+"img/sagano1.ab69e4b7.jpeg"}});
//# sourceMappingURL=app.d059dc94.js.map